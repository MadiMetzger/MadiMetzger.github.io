<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!-- Ensures proper scaling and layout on mobile devices -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- Links to CSS stylesheet -->
    <link rel="stylesheet" href="styles.css"/>
  </head>

  <!-- <script>
    // Makes a pop-up window that asks for the user's name
    response = window.prompt("What is your name?", "Enter your name here.")
    // Sets the user's name input as the username variable
    let username = response
    // Writes and dynamically updates the welcome message with the user's name
    document.write("Welcome " + username + "!")
  </script> -->

  <body class="light" id="pageBody">
    <article>

      <form>        
        <!-- Dark Mode button -->
        <input type="checkbox" id="darkButton"/>
        <!-- Label for Dark Mode button -->
        <label for="darkButton">Dark Mode</label>
      </form>
      
      <!-- Website navigation menu -->
      <ul>
        <!-- Link to the "About" page -->
        <li><a href="about.html" target="_self">About</a></li>
        <!-- Link to the "Featured Content" page -->
        <li><a href="featuredContent.html" target="_self">Featured Content</a></li>
        <!-- Link to the "Projects" page -->
        <li><a href="projects.html" target="_self">Projects</a></li>
        <!-- Link to the "Contact" page -->
        <li><a href="contact.html" target="_self">Contact</a></li>
      </ul>
    </article>
  </body>    

  <script>
    
    // Set the document body as the value of the newly defined docBody value
    let docBody = document.getElementById("pageBody");
    
    // Function that will change all DOM elements' CSS style class
    function switchMode() {

      // Set the dark mode checkbox as the newly defined modeCheckbox variable
      let modeCheckbox = document.getElementById("darkButton");

      // If the document is set to the light class
      if (docBody.classList.contains("light")) {

        // Remove the light class from the body element
        docBody.classList.remove("light");

        // Add the dark class to the body element
        docBody.classList.add("dark");
        
        // Save the dark mode to the local storage
        localStorage.mode = "dark";

      } else { // If the document is set to the dark class
        
        // Remove the dark class from the body element
        docBody.classList.remove("dark");

        // Add the light class to the body element
        docBody.classList.add("light");

        // Save the light mode to the local storage
        localStorage.mode = "light";
      }
    }

    // Function to check what mode is stored in local storage
    function checkMode () {

      // Set the stored mode as the newly defined currentMode variable
      let currentMode = localStorage.getItem("mode");

      // Set the dark mode checkbox as the newly defined modeCheckbox variable
      let modeCheckbox = document.getElementById("darkButton");
      
      // If the stored mode is light
      if (currentMode == "light") {

        // Make the checkbox unchecked
        modeCheckbox.checked = false;

        // Remove the dark class from the body element
        docBody.classList.remove("dark");

        // Add the light class to the body element
        docBody.classList.add("light");

      } else { // If the stored mode is dark
        
        // Make the checkbox checked
        modeCheckbox.checked = true;

        // Remove the light class from the body element
        docBody.classList.remove("light");

        // Add the dark class to the body element
        docBody.classList.add("dark");
      }
    }

    // Function to display an overlay
    function createOverlay() {
      
      // Creates a new div element and sets it as the newly defined overlay variable
      let overlay = document.createElement("div");

      // Assigns the new overlay div element the id loadOverlay
      overlay.id = "loadOverlay";

      // Adds text content to the new overlay div element
      overlay.textContent = "This page is a work in progress.";

      // Creates a new div element and sets it as the newly defined closeOverlay variable
      let closeOverlay = document.createElement("div");

      // Assigns the new closeOverlay div element the id closeButton
      closeOverlay.id = "closeButton";
      
      // Adds text content to the new closeOverlay div element
      closeOverlay.textContent = "Close";
      
      // Appends the new overlay div element to document body
      document.body.appendChild(overlay);

      // Appends the new closeOverlay div element to overlay div element
      overlay.appendChild(closeOverlay);

      // When the closeOverlay div element is clicked
      closeOverlay.onclick = function() {
        // Remove the overlay div element from the document body
        document.body.removeChild(overlay);
      }
    }
    
    // Add an event listener that will change the mode of the page when the Dark Mode button changes
    document.getElementById("darkButton").addEventListener("change", switchMode, false);
    
    // Add an event listener that runs the displayOverlay function when the window loads
    window.addEventListener("load", createOverlay, false);

    // Add an event listener that runs the checkMode function when the window loads
    window.addEventListener("load", checkMode, false);

  </script>
</html>