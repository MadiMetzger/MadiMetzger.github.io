<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!-- Ensures proper scaling and layout on mobile devices -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- Links to CSS stylesheet -->
    <link rel="stylesheet" href="styles.css"/>
  </head>
  
  <body class="light" id="contactBody">
    <!-- Page header -->
    <header>
      <h1>Contact</h1>
    </header>
    
    <article>
      <!-- Email contact form -->
      <form>
        
        <!-- Sender name field -->
        <label for="sendername">
          Sender Name:
          <input type="text" id="sendername" /><br>
        </label>
          
        <!-- User email address field -->
        <label for="emailaddress">
          Email Address:
          <input type="text" id="emailaddress" /><br>
        </label>
        
        <!-- Email subject field -->
        <label for="emailsubject">
          Subject:
          <input type="text" id="emailsubject" /><br>
        </label>

        <!-- Email message field -->
        <label for="emailmessage">
          Message:
          <input type="text" id="emailmessage" /><br>
        </label>

        <!-- Div element containing tooltip class -->
        <div class="tooltip">

          <!-- Submit button -->
          <input type="submit" id="submit" value="Submit" >

          <!-- The text to be displayed in the tooltip -->
          <span class="tooltiptext">Click to send your message!</span>
        </div>
      </form>

      <!-- Blank element to display dynamic loading message -->
      <p id="statusMessage"></p>
    </article>
  </body>

  <script>

    // Function to check what mode is in the local storage
    function checkMode () {

      // Set the document body as the value of the newly defined docBody value
      let docBody = document.getElementById("contactBody");

      // Set the stored mode as the newly defined currentMode variable
      let currentMode = localStorage.getItem("mode");

      // If the stored mode is dark
      if (currentMode == "dark") {

        // Remove the light class from the body element
        docBody.classList.remove("light");

        // Add the dark class to the body element
        docBody.classList.add("dark");

      } else { // If the stored mode is light
          
        // Remove the dark class from the body element
        docBody.classList.remove("dark");

        // Add the light class to the body element
        docBody.classList.add("light");
      }
    }
    
    // Add an event listener that runs the checkMode function when the window loads
    window.addEventListener("load", checkMode, false);

    // Add an event listener to the Submit button that sends a thank you message with the user's entered name
    document.getElementById("submit").addEventListener("click", function(event) {
      
      // Prevent form from refreshing the page
      event.preventDefault(); 

      // Set status message as the newly defined statusMessage variable
      let statusMessage = document.getElementById("statusMessage");

      // Display loading message
      statusMessage.textContent = "Loading...";

      // Display confirmation message after 3 seconds
      setTimeout (() => {
        statusMessage.textContent = "Message sent successfully!";

        // Wait 1 second after the confirmation message is displayed, then send alert message thanking the user by their entered name for sending a message, and tells them that their message has been sent
        setTimeout (() => {
          alert("Thank you, " + document.getElementById("sendername").value + " your message has been sent!");
        }, 1000);
      }, 3000);
    }, false);
  </script>
</html>
